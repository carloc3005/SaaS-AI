require('dotenv/config');

console.log('🔧 Stream Dashboard Configuration Guide');
console.log('======================================');
console.log('');
console.log('📋 To fix recording/transcript URLs, you need to:');
console.log('');
console.log('1. 🌐 Go to Stream Dashboard:');
console.log('   https://dashboard.getstream.io/');
console.log('');
console.log('2. 📺 Select your VIDEO app (not chat):');
console.log('   - App Key: ' + process.env.NEXT_PUBLIC_STREAM_VIDEO_API_KEY);
console.log('');
console.log('3. ⚙️ Go to "Webhooks" section');
console.log('');
console.log('4. 🔗 Add webhook endpoint:');
console.log('   URL: https://apparent-evenly-walrus.ngrok-free.app/api/webhook');
console.log('');
console.log('5. ✅ Enable these events:');
console.log('   □ call.session_started');
console.log('   □ call.ended');
console.log('   □ call.recording_ready');
console.log('   □ call.transcription_ready');
console.log('   □ call.recording_started (optional)');
console.log('   □ call.transcription_started (optional)');
console.log('');
console.log('6. 🔐 Set webhook secret (if required)');
console.log('');
console.log('7. 💾 Save the configuration');
console.log('');
console.log('🧪 After configuration, test by:');
console.log('1. Creating a new meeting');
console.log('2. Joining the meeting');
console.log('3. Talking for a few seconds');
console.log('4. Ending the meeting');
console.log('5. Waiting 30-60 seconds for processing');
console.log('6. Running: node debug-database-meetings.js');
console.log('');
console.log('💡 Common issues:');
console.log('- Make sure you\'re in the VIDEO app, not Chat app');
console.log('- Verify the webhook URL is exactly correct');
console.log('- Check webhook delivery logs in Stream Dashboard');
console.log('- Ensure ngrok tunnel is running and accessible');
